{"remainingRequest":"/Users/hq_failmy/Desktop/封装控件/node_modules/babel-loader/lib/index.js!/Users/hq_failmy/Desktop/封装控件/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hq_failmy/Desktop/封装控件/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hq_failmy/Desktop/封装控件/src/views/ShellGlobalModule/ShellGlobalCode/Test.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hq_failmy/Desktop/封装控件/src/views/ShellGlobalModule/ShellGlobalCode/Test.vue","mtime":1555897494946},{"path":"/Users/hq_failmy/Desktop/封装控件/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/封装控件/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/封装控件/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/封装控件/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport vBasePage from \"../../BasePage/BasePage\";\nimport ShellApi from \"../webapi/ShellGlobal\";\nimport config from \"@/config/index\";\nvar TableUniqueId = \"appId\";\nvar TerminalType = {\n  \"1\": \"总控\",\n  \"2\": \"分控\",\n  \"3\": \"HubApp\",\n  \"4\": \"CCN\"\n};\nexport default {\n  data: function data() {\n    return {\n      searchOptions: {\n        searchOptions: {\n          requiredCondition: false\n        },\n        seleFunc: {\n          export: false,\n          search: true\n        },\n        // exportUrl: ShellApi.GetAppInfoList,\n        search_controls: [{\n          type: \"v_singleSelect\",\n          title: \"部署点\",\n          key: \"OrganiztionId\",\n          apiUrl: ShellApi.GetOrganiztionList,\n          //params: { aaa: \"fff\" },\n          selectkey: \"organiztionId\",\n          selectvalue: \"organiztionSN\"\n        }, {\n          type: \"v_singleSelect\",\n          title: \"状态\",\n          key: \"isDelete\",\n          data: [{\n            typeid: 0,\n            typename: \"启用\"\n          }, {\n            typeid: 1,\n            typename: \"禁用\"\n          }],\n          selectkey: \"typeid\",\n          selectvalue: \"typename\"\n        }, {\n          type: \"v_singleSelect\",\n          title: \"设备类型\",\n          key: \"TerminalType\",\n          data: [{\n            id: \"1\",\n            value: \"总控\"\n          }, {\n            id: \"2\",\n            value: \"分控\"\n          }, {\n            id: \"3\",\n            value: \"HubApp\"\n          }, {\n            id: \"4\",\n            value: \"CCN\"\n          }],\n          selectkey: \"id\",\n          selectvalue: \"value\"\n        }]\n      },\n      buttonOptions: [{\n        title: \"添加\",\n        key: \"add\",\n        enable: true,\n        iconStr: \"fa-plus\"\n      }],\n      editOptions: {\n        dynamicEdits: {\n          apiUrl: ShellApi.SubmitAppInfo,\n          // params: {\"test\": \"111\"},\n          list: [{\n            lineType: \"single\",\n            rowList: [{\n              type: \"v_text\",\n              title: \"AppKey\",\n              key: \"appKey\",\n              isRequest: true,\n              validators: {\n                notEmpty: {\n                  enabled: true,\n                  message: \"AppKey不能为空\"\n                },\n                regexp: {\n                  regexp: /^[A-Za-z0-9]+$/i,\n                  message: \"AppKey只能由字母字符和数字组成\"\n                },\n                stringLength: {\n                  max: 50,\n                  message: \"AppKey最多只能输入50字\"\n                }\n              }\n            }, {\n              type: \"v_text\",\n              title: \"AppId\",\n              key: \"AppId\",\n              isRequest: true,\n              editDisabled: true,\n              //编辑环境下是否禁用\n              addDisabled: false //添加环境下是否禁用\n\n            }, {\n              type: \"v_text\",\n              title: \"AppSecret\",\n              key: \"appSecret\",\n              isRequest: true,\n              validators: {\n                notEmpty: {\n                  enabled: true,\n                  message: \"AppSecret不能为空\"\n                },\n                regexp: {\n                  regexp: /^[A-Za-z0-9]+$/i,\n                  message: \"AppKey只能由字母字符和数字组成\"\n                },\n                stringLength: {\n                  max: 50,\n                  message: \"AppSecret最多只能输入50字\"\n                }\n              }\n            }, {\n              type: \"v_singleSelect\",\n              title: \"设备类型\",\n              key: \"terminalType\",\n              data: [{\n                terminalType: \"1\",\n                value: \"总控\"\n              }, {\n                terminalType: \"2\",\n                value: \"分控\"\n              }, {\n                terminalType: \"3\",\n                value: \"HubApp\"\n              }, {\n                terminalType: \"4\",\n                value: \"CCN\"\n              }],\n              selectkey: \"terminalType\",\n              selectvalue: \"value\",\n              isRequest: true,\n              validators: {\n                notEmpty: {\n                  enabled: true,\n                  message: \"设备类型不能为空\"\n                }\n              }\n            }, {\n              type: \"v_singleSelect\",\n              title: \"部署点\",\n              key: \"organiztionId\",\n              apiUrl: ShellApi.GetOrganiztionList,\n              //params: { aaa: \"fff\" },\n              selectkey: \"organiztionId\",\n              selectvalue: \"organiztionSN\",\n              hasValChange: true,\n              isRequest: true,\n              validators: {\n                notEmpty: {\n                  enabled: true,\n                  message: \"部署点不能为空\"\n                }\n              }\n            }, {\n              type: \"v_text\",\n              title: \"终端识别项\",\n              key: \"identifyingNumber\",\n              isRequest: true,\n              validators: {\n                notEmpty: {\n                  enabled: true,\n                  message: \"终端识别项不能为空\"\n                }\n              },\n              stringLength: {\n                max: 50,\n                message: \"终端识别项最多只能输入50字\"\n              }\n            }, {\n              type: \"v_textarea\",\n              title: \"备注\",\n              key: \"remark\",\n              isRequest: false,\n              editDisabled: true,\n              //编辑环境下是否禁用\n              addDisabled: false,\n              //添加环境下是否禁用\n              hasMountBefore: true,\n              validators: {\n                notEmpty: {\n                  enabled: false\n                }\n              }\n            }]\n          }, {\n            lineType: \"double\",\n            rowList: [{\n              type: \"v_textarea\",\n              title: \"备注1\",\n              key: \"remark1\",\n              isRequest: false,\n              editDisabled: true,\n              //编辑环境下是否禁用\n              addDisabled: false,\n              //添加环境下是否禁用\n              hasMountBefore: false,\n              //是否需要组件加载前回调\n              validators: {\n                notEmpty: {\n                  enabled: false\n                }\n              }\n            }, {\n              type: \"v_textarea\",\n              title: \"备注2\",\n              key: \"remark2\",\n              isRequest: false,\n              editDisabled: false,\n              //编辑环境下是否禁用\n              addDisabled: true,\n              //添加环境下是否禁用\n              hasMountBefore: false,\n              //是否需要组件加载前回调\n              validators: {\n                notEmpty: {\n                  enabled: false\n                }\n              }\n            }]\n          }]\n        }\n      },\n      tableOption: {\n        tableId: \"proofreport\",\n        tableName: \"凭据统计报表\",\n        url: config.pgyerApiUrl + ShellApi.GetAppInfoList.options.url,\n        method: ShellApi.GetAppInfoList.options.method,\n        uniqueId: TableUniqueId,\n        actions: [{\n          key: \"tableEdit\",\n          title: \"编辑\",\n          url: ShellApi.GetAppInfoById,\n          method: ShellApi.GetAppInfoById.method,\n          // params: {\n          //   aaa: \"fff\"\n          // },\n          tabIdx: 2\n        }, {\n          key: \"tablePause\",\n          statuKey: \"isDelete\",\n          // statuObj: {\n          //   'false': \"启用\",\n          //   'true': \"禁用\"\n          // },\n          title: \"启用/禁用\",\n          tabIdx: 0\n        }, {\n          key: \"tableDownload\",\n          url: ShellApi.GetAppXMLDownLoadUrl,\n          method: ShellApi.GetAppXMLDownLoadUrl.method,\n          title: \"下载\",\n          tabIdx: 1\n        }],\n        columns: [{\n          field: \"organiztionSN\",\n          title: \"部署点编号\",\n          align: \"center\"\n        }, {\n          field: \"appKey\",\n          title: \"AppKey\",\n          align: \"center\"\n        }, {\n          field: \"appSecret\",\n          title: \"AppSecret\",\n          align: \"center\"\n        }, {\n          field: \"terminalType\",\n          title: \"设备类型\",\n          align: \"center\",\n          formatter: function formatter(val, row) {\n            return TerminalType[row.terminalType];\n          }\n        }, {\n          field: \"isDelete\",\n          title: \"状态\",\n          align: \"center\",\n          formatter: function formatter(val, row) {\n            return row.isDelete ? \"启用\" : \"禁用\";\n          }\n        }]\n      }\n    };\n  },\n  methods: {\n    rowClick: function rowClick(rowItem, element, baseObject) {\n      console.log(element);\n\n      var _ = this;\n\n      if (element.id == \"tablePause\") {\n        ShellApi.UpdateDeleteStatus;\n\n        var currentAction = _.tableOption.actions.find(function (item) {\n          return item.key == element.id;\n        });\n\n        var param = {};\n        param[\"isDelete\"] = rowItem[currentAction.statuKey] ? 0 : 1;\n        param[_.tableOption.uniqueId] = rowItem[_.tableOption.uniqueId];\n        ShellApi.UpdateDeleteStatus(param).then(function (res) {\n          baseObject.$refs.table.operation(\"refresh\");\n        });\n      }\n    },\n    // 编辑模态框中  组件渲染之前\n    componentMountBefore: function componentMountBefore(element, basepage) {\n      debugger;\n    },\n    // 编辑模态框中  组件渲染之后\n    componentMountAfter: function componentMountAfter(element, basepage) {},\n    // 编辑模态框中  组件值发生变化\n    componentValueChange: function componentValueChange(element, basepage) {\n      var editChildArr = basepage.$refs.editModule.$refs.child || [];\n\n      if (element.options.key == \"appKey\") {\n        var target = editChildArr.find(function (item) {\n          return item.options.key == \"remark\";\n        });\n        target.setValue(element.val); // debugger;\n      }\n\n      if (element.options.key == \"organiztionId\") {\n        var _target = editChildArr.find(function (item) {\n          return item.options.key == \"remark\";\n        });\n\n        _target.setValue(element.val); // debugger;\n\n      }\n    }\n  },\n  components: {\n    vBasePage: vBasePage\n  }\n};",{"version":3,"sources":["Test.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <vBasePage\n    :searchOptions=\"searchOptions\"\n    :buttonOptions=\"buttonOptions\"\n    :editOptions=\"editOptions\"\n    :tableOption=\"tableOption\"\n    @rowBlock=\"rowClick\"\n    @componentMountBefore=\"componentMountBefore\"\n    @componentMountAfter=\"componentMountAfter\"\n    @componentValueChange=\"componentValueChange\"\n  ></vBasePage>\n</template>\n\n<script>\nimport vBasePage from \"../../BasePage/BasePage\";\nimport ShellApi from \"../webapi/ShellGlobal\";\nimport config from \"@/config/index\";\n\nvar TableUniqueId = \"appId\";\nvar TerminalType = {\n  \"1\": \"总控\",\n  \"2\": \"分控\",\n  \"3\": \"HubApp\",\n  \"4\": \"CCN\"\n};\nexport default {\n  data() {\n    return {\n      searchOptions: {\n        searchOptions: {\n          requiredCondition: false\n        },\n        seleFunc: {\n          export: false,\n          search: true\n        },\n        // exportUrl: ShellApi.GetAppInfoList,\n        search_controls: [\n          {\n            type: \"v_singleSelect\",\n            title: \"部署点\",\n            key: \"OrganiztionId\",\n            apiUrl: ShellApi.GetOrganiztionList,\n            //params: { aaa: \"fff\" },\n            selectkey: \"organiztionId\",\n            selectvalue: \"organiztionSN\"\n          },\n          {\n            type: \"v_singleSelect\",\n            title: \"状态\",\n            key: \"isDelete\",\n            data: [\n              {\n                typeid: 0,\n                typename: \"启用\"\n              },\n              {\n                typeid: 1,\n                typename: \"禁用\"\n              }\n            ],\n            selectkey: \"typeid\",\n            selectvalue: \"typename\"\n          },\n          {\n            type: \"v_singleSelect\",\n            title: \"设备类型\",\n            key: \"TerminalType\",\n            data: [\n              {\n                id: \"1\",\n                value: \"总控\"\n              },\n              {\n                id: \"2\",\n                value: \"分控\"\n              },\n              {\n                id: \"3\",\n                value: \"HubApp\"\n              },\n              {\n                id: \"4\",\n                value: \"CCN\"\n              }\n            ],\n            selectkey: \"id\",\n            selectvalue: \"value\"\n          }\n        ]\n      },\n      buttonOptions: [\n        {\n          title: \"添加\",\n          key: \"add\",\n          enable: true,\n          iconStr: \"fa-plus\"\n        }\n      ],\n      editOptions: {\n        dynamicEdits: {\n          apiUrl: ShellApi.SubmitAppInfo,\n          // params: {\"test\": \"111\"},\n          list: [\n            {\n              lineType: \"single\",\n              rowList: [\n                {\n                  type: \"v_text\",\n                  title: \"AppKey\",\n                  key: \"appKey\",\n                  isRequest: true,\n                  validators: {\n                    notEmpty: {\n                      enabled: true,\n                      message: \"AppKey不能为空\"\n                    },\n                    regexp: {\n                      regexp: /^[A-Za-z0-9]+$/i,\n                      message: \"AppKey只能由字母字符和数字组成\"\n                    },\n                    stringLength: {\n                      max: 50,\n                      message: \"AppKey最多只能输入50字\"\n                    }\n                  }\n                },\n                {\n                  type: \"v_text\",\n                  title: \"AppId\",\n                  key: \"AppId\",\n                  isRequest: true,\n                  editDisabled: true, //编辑环境下是否禁用\n                  addDisabled: false //添加环境下是否禁用\n                },\n                {\n                  type: \"v_text\",\n                  title: \"AppSecret\",\n                  key: \"appSecret\",\n                  isRequest: true,\n                  validators: {\n                    notEmpty: {\n                      enabled: true,\n                      message: \"AppSecret不能为空\"\n                    },\n                    regexp: {\n                      regexp: /^[A-Za-z0-9]+$/i,\n                      message: \"AppKey只能由字母字符和数字组成\"\n                    },\n                    stringLength: {\n                      max: 50,\n                      message: \"AppSecret最多只能输入50字\"\n                    }\n                  }\n                },\n                {\n                  type: \"v_singleSelect\",\n                  title: \"设备类型\",\n                  key: \"terminalType\",\n                  data: [\n                    {\n                      terminalType: \"1\",\n                      value: \"总控\"\n                    },\n                    {\n                      terminalType: \"2\",\n                      value: \"分控\"\n                    },\n                    {\n                      terminalType: \"3\",\n                      value: \"HubApp\"\n                    },\n                    {\n                      terminalType: \"4\",\n                      value: \"CCN\"\n                    }\n                  ],\n                  selectkey: \"terminalType\",\n                  selectvalue: \"value\",\n                  isRequest: true,\n                  validators: {\n                    notEmpty: {\n                      enabled: true,\n                      message: \"设备类型不能为空\"\n                    }\n                  }\n                },\n                {\n                  type: \"v_singleSelect\",\n                  title: \"部署点\",\n                  key: \"organiztionId\",\n                  apiUrl: ShellApi.GetOrganiztionList,\n                  //params: { aaa: \"fff\" },\n                  selectkey: \"organiztionId\",\n                  selectvalue: \"organiztionSN\",\n                  hasValChange: true,\n                  isRequest: true,\n                  validators: {\n                    notEmpty: {\n                      enabled: true,\n                      message: \"部署点不能为空\"\n                    }\n                  }\n                },\n                {\n                  type: \"v_text\",\n                  title: \"终端识别项\",\n                  key: \"identifyingNumber\",\n                  isRequest: true,\n                  validators: {\n                    notEmpty: {\n                      enabled: true,\n                      message: \"终端识别项不能为空\"\n                    }\n                  },\n                  stringLength: {\n                    max: 50,\n                    message: \"终端识别项最多只能输入50字\"\n                  }\n                },\n                {\n                  type: \"v_textarea\",\n                  title: \"备注\",\n                  key: \"remark\",\n                  isRequest: false,\n                  editDisabled: true, //编辑环境下是否禁用\n                  addDisabled: false, //添加环境下是否禁用\n                  hasMountBefore: true,\n                  validators: {\n                    notEmpty: {\n                      enabled: false\n                    }\n                  }\n                }\n              ]\n            },\n            {\n              lineType: \"double\",\n              rowList: [\n                {\n                  type: \"v_textarea\",\n                  title: \"备注1\",\n                  key: \"remark1\",\n                  isRequest: false,\n                  editDisabled: true, //编辑环境下是否禁用\n                  addDisabled: false, //添加环境下是否禁用\n                  hasMountBefore: false,//是否需要组件加载前回调\n                  validators: {\n                    notEmpty: {\n                      enabled: false\n                    }\n                  }\n                },\n                {\n                  type: \"v_textarea\",\n                  title: \"备注2\",\n                  key: \"remark2\",\n                  isRequest: false,\n                  editDisabled: false, //编辑环境下是否禁用\n                  addDisabled: true, //添加环境下是否禁用\n                  hasMountBefore: false,//是否需要组件加载前回调\n                  validators: {\n                    notEmpty: {\n                      enabled: false\n                    }\n                  }\n                }\n              ]\n            }\n          ]\n        }\n      },\n      tableOption: {\n        tableId: \"proofreport\",\n        tableName: \"凭据统计报表\",\n        url: config.pgyerApiUrl + ShellApi.GetAppInfoList.options.url,\n        method: ShellApi.GetAppInfoList.options.method,\n        uniqueId: TableUniqueId,\n        actions: [\n          {\n            key: \"tableEdit\",\n            title: \"编辑\",\n            url: ShellApi.GetAppInfoById,\n            method: ShellApi.GetAppInfoById.method,\n            // params: {\n            //   aaa: \"fff\"\n            // },\n            tabIdx: 2\n          },\n          {\n            key: \"tablePause\",\n            statuKey: \"isDelete\",\n            // statuObj: {\n            //   'false': \"启用\",\n            //   'true': \"禁用\"\n            // },\n            title: \"启用/禁用\",\n            tabIdx: 0\n          },\n          {\n            key: \"tableDownload\",\n            url: ShellApi.GetAppXMLDownLoadUrl,\n            method: ShellApi.GetAppXMLDownLoadUrl.method,\n            title: \"下载\",\n            tabIdx: 1\n          }\n        ],\n        columns: [\n          {\n            field: \"organiztionSN\",\n            title: \"部署点编号\",\n            align: \"center\"\n          },\n          {\n            field: \"appKey\",\n            title: \"AppKey\",\n            align: \"center\"\n          },\n          {\n            field: \"appSecret\",\n            title: \"AppSecret\",\n            align: \"center\"\n          },\n          {\n            field: \"terminalType\",\n            title: \"设备类型\",\n            align: \"center\",\n            formatter: function(val, row) {\n              return TerminalType[row.terminalType];\n            }\n          },\n          {\n            field: \"isDelete\",\n            title: \"状态\",\n            align: \"center\",\n            formatter: function(val, row) {\n              return row.isDelete ? \"启用\" : \"禁用\";\n            }\n          }\n        ]\n      }\n    };\n  },\n  methods: {\n    rowClick: function(rowItem, element, baseObject) {\n      console.log(element);\n      let _ = this;\n      if (element.id == \"tablePause\") {\n        ShellApi.UpdateDeleteStatus;\n        let currentAction = _.tableOption.actions.find(item => {\n          return item.key == element.id;\n        });\n        let param = {};\n        param[\"isDelete\"] = rowItem[currentAction.statuKey] ? 0 : 1;\n        param[_.tableOption.uniqueId] = rowItem[_.tableOption.uniqueId];\n\n        ShellApi.UpdateDeleteStatus(param).then(res => {\n          baseObject.$refs.table.operation(\"refresh\");\n        });\n      }\n    },\n    // 编辑模态框中  组件渲染之前\n    componentMountBefore: function(element, basepage) {\n      debugger;\n    },\n    // 编辑模态框中  组件渲染之后\n    componentMountAfter: function(element, basepage) {},\n    // 编辑模态框中  组件值发生变化\n    componentValueChange: function(element, basepage) {\n      let editChildArr = basepage.$refs.editModule.$refs.child || [];\n      if (element.options.key == \"appKey\") {\n        let target = editChildArr.find(item => {\n          return item.options.key == \"remark\";\n        });\n        target.setValue(element.val);\n        // debugger;\n      }\n      if (element.options.key == \"organiztionId\") {\n        let target = editChildArr.find(item => {\n          return item.options.key == \"remark\";\n        });\n        target.setValue(element.val);\n        // debugger;\n      }\n    }\n  },\n  components: { vBasePage }\n};\n</script>\n\n"],"sourceRoot":"src/views/ShellGlobalModule/ShellGlobalCode"}]}