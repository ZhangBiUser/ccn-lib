{"remainingRequest":"/Users/hq_failmy/Desktop/前端代码0405/node_modules/babel-loader/lib/index.js!/Users/hq_failmy/Desktop/前端代码0405/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hq_failmy/Desktop/前端代码0405/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hq_failmy/Desktop/前端代码0405/src/views/ReportModule/ReportManagerment/InWareHouseDemailReportManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hq_failmy/Desktop/前端代码0405/src/views/ReportModule/ReportManagerment/InWareHouseDemailReportManager.vue","mtime":1553140248000},{"path":"/Users/hq_failmy/Desktop/前端代码0405/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/前端代码0405/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/前端代码0405/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/前端代码0405/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport vTable from \"@c/tables/table\";\nimport vSearch from \"@c/dynamicSearch/dynamic_Search\";\nimport AreaApi from \"../../DictModule/webapi/AreaApi\";\nimport DataApi from \"../../DictModule/webapi/DataApi\";\nimport MatlApi from \"../../MatlModule/webapi/MaterialsApi\";\nimport ReportApi from \"../webapi/ReportApi\";\nimport moment from \"moment\";\nimport config from \"@/config/index\";\nimport { pageTool } from \"@/js/util.js\";\nexport default {\n  data: function data() {\n    var _ = this;\n\n    return {\n      isEdit: false,\n      search_controls: [{\n        type: \"v_text\",\n        title: \"入库单号\",\n        key: \"receiptno\"\n      }, {\n        type: \"v_singleSelect\",\n        title: \"选择产品\",\n        key: \"materialsid\",\n        apiUrl: MatlApi.GetMaterialsList,\n        //params: { aaa: \"fff\" },\n        selectkey: \"productId\",\n        selectvalue: \"productName\"\n      }, {\n        type: \"v_text\",\n        title: \"批次号\",\n        key: \"batchno\"\n      }, {\n        type: \"v_datetime\",\n        title: \"入库开始日期\",\n        key: \"inhousestartdate\"\n      }, {\n        type: \"v_datetime\",\n        title: \"入库结束日期\",\n        key: \"inhouseenddate\"\n      }, {\n        type: \"br\",\n        key: \"bra\"\n      }, {\n        type: \"v_doubleSelect\",\n        key: \"sendprovincecity\",\n        list: [{\n          type: \"v_singleSelect\",\n          title: \"发货省份\",\n          key: \"sendprovince\",\n          apiUrl: AreaApi.GetAllProvinceList,\n          selectkey: \"provinceid\",\n          selectvalue: \"provincename\",\n          childrenkey: \"sendcity\"\n        }, {\n          type: \"v_singleSelect\",\n          title: \"发货城市\",\n          key: \"sendcity\",\n          apiUrl: AreaApi.GetCityOfProvinceList,\n          parendPostKey: \"AreaId\",\n          selectkey: \"cityid\",\n          selectvalue: \"cityname\"\n        }]\n      }, {\n        type: \"v_doubleSelect\",\n        key: \"sendlevelunit\",\n        list: [{\n          type: \"v_singleSelect\",\n          title: \"发货层级\",\n          key: \"sendlevel\",\n          apiUrl: DataApi.GetSendUnitLevelList,\n          selectkey: \"dataid\",\n          selectvalue: \"dataname\",\n          childrenkey: \"sendunit\"\n        }, {\n          type: \"v_singleSelect\",\n          title: \"发货单位\",\n          key: \"sendunit\",\n          apiUrl: DataApi.GetSendInWareHouseList,\n          parendPostKey: \"CatagoryId\",\n          selectkey: \"id\",\n          selectvalue: \"name\"\n        }]\n      }, {\n        type: \"br\",\n        key: \"brb\"\n      }, {\n        type: \"v_doubleSelect\",\n        key: \"inhouseprovincecity\",\n        list: [{\n          type: \"v_singleSelect\",\n          title: \"入库省份\",\n          key: \"inhouseprovince\",\n          apiUrl: AreaApi.GetAllProvinceList,\n          selectkey: \"provinceid\",\n          selectvalue: \"provincename\",\n          childrenkey: \"inhousecity\"\n        }, {\n          type: \"v_singleSelect\",\n          title: \"入库城市\",\n          key: \"inhousecity\",\n          apiUrl: AreaApi.GetCityOfProvinceList,\n          parendPostKey: \"AreaId\",\n          selectkey: \"cityid\",\n          selectvalue: \"cityname\"\n        }]\n      }, {\n        type: \"v_doubleSelect\",\n        key: \"inhouselevelunit\",\n        list: [{\n          type: \"v_singleSelect\",\n          title: \"入库层级\",\n          key: \"inhouselevel\",\n          apiUrl: DataApi.GetReceivUnitLevelList,\n          selectkey: \"dataid\",\n          selectvalue: \"dataname\",\n          childrenkey: \"inhouseunit\"\n        }, {\n          type: \"v_singleSelect\",\n          title: \"入库单位\",\n          key: \"inhouseunit\",\n          apiUrl: DataApi.GetReceivInWareHouseList,\n          parendPostKey: \"CatagoryId\",\n          selectkey: \"id\",\n          selectvalue: \"name\"\n        }]\n      }, {\n        type: \"br\",\n        key: \"brc\"\n      }, {\n        type: \"v_text\",\n        title: \"产品数码\",\n        key: \"productcode\"\n      }, {\n        type: \"v_datetime\",\n        title: \"生产开始时间\",\n        key: \"makingstartdate\",\n        format: \"yyyy-mm-dd hh:ii\",\n        minView: \"0\",\n        momentformat: \"YYYY-MM-DD HH:mm\"\n      }, {\n        type: \"v_datetime\",\n        title: \"生产结束时间\",\n        key: \"makingenddate\",\n        format: \"yyyy-mm-dd hh:ii\",\n        minView: \"0\",\n        momentformat: \"YYYY-MM-DD HH:mm\"\n      }],\n      searchOptions: {\n        requiredCondition: true\n      },\n      tableOption: {\n        tableId: \"receivdetailreport\",\n        tableName: \"入库明细报表\",\n        //url: config.pgyerApiUrl + ReportApi.InWareHouseDetailReportPage.options.url,\n        method: ReportApi.InWareHouseDetailReportPage.options.method,\n        columns: [{\n          field: \"receipT_NO\",\n          title: \"入库单号\",\n          align: \"center\"\n        }, {\n          field: \"materialS_SN\",\n          title: \"产品编码\",\n          align: \"center\"\n        }, {\n          field: \"materialS_NAME\",\n          title: \"产品名称\",\n          align: \"left\",\n          width: \"200px\",\n          formatter: pageTool.formartSubStr\n        }, {\n          field: \"materialS_STANDARD\",\n          title: \"产品规格\",\n          align: \"center\"\n        }, {\n          field: \"batchNo\",\n          title: \"批次号\",\n          align: \"center\"\n        }, {\n          field: \"sendProvince\",\n          title: \"发货省\",\n          align: \"center\"\n        }, {\n          field: \"sendCity\",\n          title: \"发货城市\",\n          align: \"center\"\n        }, {\n          field: \"receipT_SENDER\",\n          title: \"发货单位\",\n          align: \"center\"\n        }, {\n          field: \"receivProvince\",\n          title: \"入库省\",\n          align: \"center\"\n        }, {\n          field: \"receivCity\",\n          title: \"入库城市\",\n          align: \"center\"\n        }, {\n          field: \"receipT_RECEIVER\",\n          title: \"入库单位\",\n          align: \"center\"\n        }, {\n          field: \"materialS_DIGITNO\",\n          title: \"产品数码\",\n          align: \"center\"\n        }, {\n          field: \"amount\",\n          title: \"数量\",\n          align: \"center\"\n        }, {\n          field: \"deviceno\",\n          title: \"扫描枪编号\",\n          align: \"center\"\n        }, {\n          field: \"makingDate\",\n          title: \"生产时间\",\n          align: \"center\",\n          formatter: function formatter(val, row) {\n            return moment(val).format(\"YYYY-MM-DD HH:mm:ss\");\n          }\n        }, {\n          field: \"receipT_DATE\",\n          title: \"入库日期\",\n          align: \"center\",\n          formatter: function formatter(val, row) {\n            return moment(val).format(\"YYYY-MM-DD HH:mm:ss\");\n          }\n        }]\n      }\n    };\n  },\n  computed: {\n    exportOptions: function exportOptions() {\n      return {\n        id: this.tableOption.tableId,\n        name: this.tableOption.tableName,\n        url: ReportApi.InWareHouseDetailReportExport\n      };\n    }\n  },\n  watch: {\n    isEdit: {\n      handler: function handler(curVal, oldVal) {\n        if (curVal) {\n          var _ = this;\n\n          setTimeout(function () {\n            _.initValidate();\n          }, 100);\n        }\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _ = this;\n\n    _.$refs.table.tableObj.on(\"click\", \"a\", function () {//_.editModel();\n    });\n  },\n  methods: {\n    uploadCallback: function uploadCallback(a, b) {\n      console.log(a);\n      console.log(b);\n    },\n    search: function search(params) {\n      this.$refs.table.tableOption.url = config.pgyerApiUrl + ReportApi.InWareHouseDetailReportPage.options.url;\n      this.$refs.table.tableOption.params = params;\n      this.$refs.table.operation(\"refresh\");\n    },\n    initValidate: function initValidate() {\n      this.validator = $(this.$refs.formBody).bootstrapValidator({\n        fields: {\n          No: {\n            validators: {\n              regexp: {\n                regexp: /^([\\u4e00-\\u9fa5-a-zA-Z0-9-_.]{1,50})*$/,\n                message: \"编号只能为中文、英文字母、数字！\"\n              },\n              notEmpty: {\n                message: \"编号不可为空！\"\n              }\n            }\n          },\n          Name: {\n            validators: {\n              regexp: {\n                regexp: /^([\\u4e00-\\u9fa5-a-zA-Z0-9-_.]{1,50})*$/,\n                message: \"名称只能为中文、英文字母、数字！\"\n              },\n              notEmpty: {\n                message: \"名称不可为空！\"\n              }\n            }\n          }\n        }\n      });\n    }\n  },\n  components: {\n    vTable: vTable,\n    vSearch: vSearch\n  }\n};",{"version":3,"sources":["InWareHouseDemailReportManager.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"box box-default\">\r\n      <div class=\"box-body box-body-resizer\">\r\n        <form class=\"form-inline\" id=\"search-query\">\r\n          <div class=\"search-bar\" style=\"float:left;width:99%;position: relative;\">\r\n            <vSearch\r\n              v-bind:dynamicControls=\"search_controls\"\r\n              v-bind:exportOptions=\"exportOptions\"\r\n              v-bind:searchOptions=\"searchOptions\"\r\n              @callback=\"search\"\r\n              style=\"float:left\"\r\n            ></vSearch>\r\n          </div>\r\n        </form>\r\n        <vTable ref=\"table\" :option=\"tableOption\"></vTable>\r\n      </div>\r\n    </div>\r\n    <div class=\"container-fluid\" id=\"edit\" v-if=\"isEdit\">\r\n      <div class=\"panel-body\">\r\n        <vTable ref=\"tableDetail\" :option=\"tableOption\"></vTable>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport vTable from \"@c/tables/table\";\r\nimport vSearch from \"@c/dynamicSearch/dynamic_Search\";\r\nimport AreaApi from \"../../DictModule/webapi/AreaApi\";\r\nimport DataApi from \"../../DictModule/webapi/DataApi\";\r\nimport MatlApi from \"../../MatlModule/webapi/MaterialsApi\";\r\nimport ReportApi from \"../webapi/ReportApi\";\r\nimport moment from \"moment\";\r\nimport config from \"@/config/index\";\r\nimport { pageTool } from \"@/js/util.js\";\r\nexport default {\r\n  data() {\r\n    var _ = this;\r\n    return {\r\n      isEdit: false,\r\n      search_controls: [\r\n        {\r\n          type: \"v_text\",\r\n          title: \"入库单号\",\r\n          key: \"receiptno\"\r\n        },\r\n        {\r\n          type: \"v_singleSelect\",\r\n          title: \"选择产品\",\r\n          key: \"materialsid\",\r\n          apiUrl: MatlApi.GetMaterialsList,\r\n          //params: { aaa: \"fff\" },\r\n          selectkey: \"productId\",\r\n          selectvalue: \"productName\"\r\n        },\r\n        {\r\n          type: \"v_text\",\r\n          title: \"批次号\",\r\n          key: \"batchno\"\r\n        },\r\n        {\r\n          type: \"v_datetime\",\r\n          title: \"入库开始日期\",\r\n          key: \"inhousestartdate\"\r\n        },\r\n        {\r\n          type: \"v_datetime\",\r\n          title: \"入库结束日期\",\r\n          key: \"inhouseenddate\"\r\n        },\r\n        {\r\n          type: \"br\",\r\n          key: \"bra\"\r\n        },\r\n        {\r\n          type: \"v_doubleSelect\",\r\n          key: \"sendprovincecity\",\r\n          list: [\r\n            {\r\n              type: \"v_singleSelect\",\r\n              title: \"发货省份\",\r\n              key: \"sendprovince\",\r\n              apiUrl: AreaApi.GetAllProvinceList,\r\n              selectkey: \"provinceid\",\r\n              selectvalue: \"provincename\",\r\n              childrenkey: \"sendcity\"\r\n            },\r\n            {\r\n              type: \"v_singleSelect\",\r\n              title: \"发货城市\",\r\n              key: \"sendcity\",\r\n              apiUrl: AreaApi.GetCityOfProvinceList,\r\n              parendPostKey: \"AreaId\",\r\n              selectkey: \"cityid\",\r\n              selectvalue: \"cityname\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: \"v_doubleSelect\",\r\n          key: \"sendlevelunit\",\r\n          list: [\r\n            {\r\n              type: \"v_singleSelect\",\r\n              title: \"发货层级\",\r\n              key: \"sendlevel\",\r\n              apiUrl: DataApi.GetSendUnitLevelList,\r\n              selectkey: \"dataid\",\r\n              selectvalue: \"dataname\",\r\n              childrenkey: \"sendunit\"\r\n            },\r\n            {\r\n              type: \"v_singleSelect\",\r\n              title: \"发货单位\",\r\n              key: \"sendunit\",\r\n              apiUrl: DataApi.GetSendInWareHouseList,\r\n              parendPostKey: \"CatagoryId\",\r\n              selectkey: \"id\",\r\n              selectvalue: \"name\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: \"br\",\r\n          key: \"brb\"\r\n        },\r\n        {\r\n          type: \"v_doubleSelect\",\r\n          key: \"inhouseprovincecity\",\r\n          list: [\r\n            {\r\n              type: \"v_singleSelect\",\r\n              title: \"入库省份\",\r\n              key: \"inhouseprovince\",\r\n              apiUrl: AreaApi.GetAllProvinceList,\r\n              selectkey: \"provinceid\",\r\n              selectvalue: \"provincename\",\r\n              childrenkey: \"inhousecity\"\r\n            },\r\n            {\r\n              type: \"v_singleSelect\",\r\n              title: \"入库城市\",\r\n              key: \"inhousecity\",\r\n              apiUrl: AreaApi.GetCityOfProvinceList,\r\n              parendPostKey: \"AreaId\",\r\n              selectkey: \"cityid\",\r\n              selectvalue: \"cityname\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: \"v_doubleSelect\",\r\n          key: \"inhouselevelunit\",\r\n          list: [\r\n            {\r\n              type: \"v_singleSelect\",\r\n              title: \"入库层级\",\r\n              key: \"inhouselevel\",\r\n              apiUrl: DataApi.GetReceivUnitLevelList,\r\n              selectkey: \"dataid\",\r\n              selectvalue: \"dataname\",\r\n              childrenkey: \"inhouseunit\"\r\n            },\r\n            {\r\n              type: \"v_singleSelect\",\r\n              title: \"入库单位\",\r\n              key: \"inhouseunit\",\r\n              apiUrl: DataApi.GetReceivInWareHouseList,\r\n              parendPostKey: \"CatagoryId\",\r\n              selectkey: \"id\",\r\n              selectvalue: \"name\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: \"br\",\r\n          key: \"brc\"\r\n        },\r\n        {\r\n          type: \"v_text\",\r\n          title: \"产品数码\",\r\n          key: \"productcode\"\r\n        },\r\n        {\r\n          type: \"v_datetime\",\r\n          title: \"生产开始时间\",\r\n          key: \"makingstartdate\",\r\n          format: \"yyyy-mm-dd hh:ii\",\r\n          minView: \"0\",\r\n          momentformat: \"YYYY-MM-DD HH:mm\"\r\n        },\r\n        {\r\n          type: \"v_datetime\",\r\n          title: \"生产结束时间\",\r\n          key: \"makingenddate\",\r\n          format: \"yyyy-mm-dd hh:ii\",\r\n          minView: \"0\",\r\n          momentformat: \"YYYY-MM-DD HH:mm\"\r\n        }\r\n      ],\r\n      searchOptions: {\r\n        requiredCondition: true\r\n      },\r\n      tableOption: {\r\n        tableId: \"receivdetailreport\",\r\n        tableName: \"入库明细报表\",\r\n        //url: config.pgyerApiUrl + ReportApi.InWareHouseDetailReportPage.options.url,\r\n        method: ReportApi.InWareHouseDetailReportPage.options.method,\r\n        columns: [\r\n          { field: \"receipT_NO\", title: \"入库单号\", align: \"center\" },\r\n          { field: \"materialS_SN\", title: \"产品编码\", align: \"center\" },\r\n          { field: \"materialS_NAME\", title: \"产品名称\", \r\n            align: \"left\",\r\n            width:\"200px\",\r\n            formatter: pageTool.formartSubStr\r\n          },\r\n          { field: \"materialS_STANDARD\", title: \"产品规格\", align: \"center\" },\r\n          { field: \"batchNo\", title: \"批次号\", align: \"center\" },\r\n          { field: \"sendProvince\", title: \"发货省\", align: \"center\" },\r\n          { field: \"sendCity\", title: \"发货城市\", align: \"center\" },\r\n          { field: \"receipT_SENDER\", title: \"发货单位\", align: \"center\" },\r\n          { field: \"receivProvince\", title: \"入库省\", align: \"center\" },\r\n          { field: \"receivCity\", title: \"入库城市\", align: \"center\" },\r\n          { field: \"receipT_RECEIVER\", title: \"入库单位\", align: \"center\" },\r\n          { field: \"materialS_DIGITNO\", title: \"产品数码\", align: \"center\" },\r\n          { field: \"amount\", title: \"数量\", align: \"center\" },\r\n          { field: \"deviceno\", title: \"扫描枪编号\", align: \"center\" },\r\n          {\r\n            field: \"makingDate\",\r\n            title: \"生产时间\",\r\n            align: \"center\",\r\n            formatter: function(val, row) {\r\n              return moment(val).format(\"YYYY-MM-DD HH:mm:ss\");\r\n            }\r\n          },\r\n          {\r\n            field: \"receipT_DATE\",\r\n            title: \"入库日期\",\r\n            align: \"center\",\r\n            formatter: function(val, row) {\r\n              return moment(val).format(\"YYYY-MM-DD HH:mm:ss\");\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    exportOptions: function() {\r\n      return {\r\n        id: this.tableOption.tableId,\r\n        name: this.tableOption.tableName,\r\n        url: ReportApi.InWareHouseDetailReportExport\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    isEdit: {\r\n      handler: function(curVal, oldVal) {\r\n        if (curVal) {\r\n          var _ = this;\r\n          setTimeout(function() {\r\n            _.initValidate();\r\n          }, 100);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted: function() {\r\n    var _ = this;\r\n    _.$refs.table.tableObj.on(\"click\", \"a\", function() {\r\n      //_.editModel();\r\n    });\r\n  },\r\n  methods: {\r\n    uploadCallback: function(a, b) {\r\n      console.log(a);\r\n      console.log(b);\r\n    },\r\n    search: function(params) {\r\n      this.$refs.table.tableOption.url =\r\n        config.pgyerApiUrl + ReportApi.InWareHouseDetailReportPage.options.url;\r\n      this.$refs.table.tableOption.params = params;\r\n      this.$refs.table.operation(\"refresh\");\r\n    },\r\n    initValidate: function() {\r\n      this.validator = $(this.$refs.formBody).bootstrapValidator({\r\n        fields: {\r\n          No: {\r\n            validators: {\r\n              regexp: {\r\n                regexp: /^([\\u4e00-\\u9fa5-a-zA-Z0-9-_.]{1,50})*$/,\r\n                message: \"编号只能为中文、英文字母、数字！\"\r\n              },\r\n              notEmpty: {\r\n                message: \"编号不可为空！\"\r\n              }\r\n            }\r\n          },\r\n          Name: {\r\n            validators: {\r\n              regexp: {\r\n                regexp: /^([\\u4e00-\\u9fa5-a-zA-Z0-9-_.]{1,50})*$/,\r\n                message: \"名称只能为中文、英文字母、数字！\"\r\n              },\r\n              notEmpty: {\r\n                message: \"名称不可为空！\"\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  },\r\n  components: { vTable, vSearch }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views/ReportModule/ReportManagerment"}]}