{"remainingRequest":"/Users/hq_failmy/Desktop/封装控件/node_modules/babel-loader/lib/index.js!/Users/hq_failmy/Desktop/封装控件/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hq_failmy/Desktop/封装控件/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hq_failmy/Desktop/封装控件/src/views/FileManagerModule/Code/FileUploadManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hq_failmy/Desktop/封装控件/src/views/FileManagerModule/Code/FileUploadManager.vue","mtime":1555307428530},{"path":"/Users/hq_failmy/Desktop/封装控件/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/封装控件/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/封装控件/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/封装控件/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.map\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport vBasePage from \"../../BasePage/BasePage\";\nimport FileManagerApi from \"../webapi/FileManager\";\nimport moment from \"moment\";\nimport config from \"@/config/index\";\nvar TableUniqueId = \"FileId\";\nvar EquipmentType = {\n  \"1\": \"采集器枪号\",\n  \"2\": \"Hubapp手机设备号\",\n  \"3\": \"服务器设备号\"\n};\nvar FileSource = {\n  \"1\": \"生产文件\",\n  \"2\": \"物流文件\"\n};\nvar Platform = {\n  \"1\": \"DTS\",\n  \"2\": \"OEM\"\n};\nexport default {\n  data: function data() {\n    var _ = this;\n\n    return {\n      searchOptions: {\n        searchOptions: {\n          requiredCondition: false\n        },\n        seleFunc: {\n          export: false,\n          search: true\n        },\n        search_controls: [{\n          type: \"v_text\",\n          title: \"上传点编号\",\n          key: \"PlaceId\"\n        }, {\n          type: \"v_text\",\n          title: \"枪号\",\n          key: \"EquipmentNumber\"\n        }, {\n          type: \"v_singleSelect\",\n          title: \"文件类型\",\n          key: \"FileSource\",\n          data: [{\n            id: '1',\n            value: '生产文件'\n          }, {\n            id: '2',\n            value: '物流文件'\n          }],\n          selectkey: \"id\",\n          selectvalue: \"value\"\n        }, {\n          type: \"v_singleSelect\",\n          title: \"文件来源\",\n          key: \"Platform\",\n          data: [{\n            id: '1',\n            value: 'DTS'\n          }, {\n            id: '2',\n            value: 'OEM'\n          }],\n          selectkey: \"id\",\n          selectvalue: \"value\"\n        }, {\n          type: \"v_text\",\n          title: \"文件名\",\n          key: \"FileName\"\n        }, {\n          type: \"v_datetime\",\n          title: \"上传开始日期\",\n          key: \"UpdateTimeStartDate\" //defdate: moment(new Date()).add(-1, 'months').format(\"YYYY-MM-DD\")\n\n        }, {\n          type: \"v_datetime\",\n          title: \"上传结束日期\",\n          key: \"UpdateTimeEndDate\"\n        }]\n      },\n      buttonOptions: [{\n        title: \"下载\",\n        enable: true,\n        method: function method(e, item) {\n          console.log(\"下载被点击\");\n          debugger;\n          var seleCheckBoxs = _.$children[0].$refs.table.tableObj.bootstrapTable(\"getSelections\") || [];\n\n          if (seleCheckBoxs.length) {\n            var FileIDStr = \"\";\n            seleCheckBoxs.map(function (item) {\n              FileIDStr += item.FileId + \",\";\n            });\n            FileManagerApi.GetUploadUrl({\n              fileUploadIdList: FileIDStr.substring(0, FileIDStr.length - 1)\n            }).then(function (res) {\n              console.log(res);\n              location.href = res.result.uploadUrl;\n            });\n          } else {\n            alert(\"没有选择项\");\n          }\n        }\n      }],\n      tableOption: {\n        tableId: \"fileupload\",\n        tableName: \"文件上传管理\",\n        url: config.pgyerApiUrl + FileManagerApi.GetFileUploadList.options.url,\n        method: FileManagerApi.GetFileUploadList.options.method,\n        uniqueId: TableUniqueId,\n        clickToSelect: true,\n        columns: [{\n          align: \"center\",\n          checkbox: true,\n          // 显示复选框\n          formatter: function formatter(i, row) {}\n        }, {\n          field: \"fileName\",\n          title: \"文件名\",\n          align: \"center\"\n        }, {\n          field: \"placeId\",\n          title: \"上传点编号\",\n          align: \"center\"\n        }, {\n          field: \"equipmentNumber\",\n          title: \"枪号\",\n          align: \"center\"\n        }, {\n          field: \"fileSource\",\n          title: \"文件类型（生产、物流）\",\n          align: \"center\",\n          formatter: function formatter(val, row) {\n            return FileSource[row.fileSource];\n          }\n        }, {\n          field: \"platform\",\n          title: \"文件来源（OEM、DTS）\",\n          align: \"center\",\n          formatter: function formatter(val, row) {\n            return Platform[row.platform];\n          }\n        }, {\n          field: \"updateTime\",\n          title: \"上传日期\",\n          align: \"center\",\n          formatter: function formatter(val, row) {\n            return moment(val).format(\"YYYY-MM-DD HH:mm\");\n          }\n        }]\n      }\n    };\n  },\n  methods: {\n    rowClick: function rowClick(rowItem, element, baseObject) {\n      console.log(element);\n      debugger;\n    }\n  },\n  components: {\n    vBasePage: vBasePage\n  }\n};",{"version":3,"sources":["FileUploadManager.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <vBasePage\n    :searchOptions=\"searchOptions\"\n    :buttonOptions=\"buttonOptions\"\n    :tableOption=\"tableOption\"\n    @rowBlock=\"rowClick\"\n  ></vBasePage>\n</template>\n\n<script>\nimport vBasePage from \"../../BasePage/BasePage\";\nimport FileManagerApi from \"../webapi/FileManager\";\nimport moment from \"moment\";\nimport config from \"@/config/index\";\n\nvar TableUniqueId = \"FileId\";\nvar EquipmentType = {\n  \"1\": \"采集器枪号\",\n  \"2\": \"Hubapp手机设备号\",\n  \"3\": \"服务器设备号\"\n};\nvar FileSource = {\n  \"1\": \"生产文件\",\n  \"2\": \"物流文件\"\n};\nvar Platform = {\n  \"1\": \"DTS\",\n  \"2\": \"OEM\"\n};\nexport default {\n  data() {\n    var _ = this;\n    return {\n      searchOptions: {\n        searchOptions: {\n          requiredCondition: false\n        },\n        seleFunc: {\n          export: false,\n          search: true\n        },\n        search_controls: [\n          {\n            type: \"v_text\",\n            title: \"上传点编号\",\n            key: \"PlaceId\"\n          },\n          {\n            type: \"v_text\",\n            title: \"枪号\",\n            key: \"EquipmentNumber\"\n          },\n          {\n            type: \"v_singleSelect\",\n            title: \"文件类型\",\n            key: \"FileSource\",\n            data: [\n              {\n                id: '1',\n                value: '生产文件',\n              },\n              {\n                id: '2',\n                value: '物流文件',\n              }\n            ],\n            selectkey: \"id\",\n            selectvalue: \"value\"\n          },\n          {\n            type: \"v_singleSelect\",\n            title: \"文件来源\",\n            key: \"Platform\",\n            data: [\n              {\n                id: '1',\n                value: 'DTS',\n              },\n              {\n                id: '2',\n                value: 'OEM',\n              }\n            ],\n            selectkey: \"id\",\n            selectvalue: \"value\"\n          },\n          {\n            type: \"v_text\",\n            title: \"文件名\",\n            key: \"FileName\"\n          },\n          {\n            type: \"v_datetime\",\n            title: \"上传开始日期\",\n            key: \"UpdateTimeStartDate\"\n            //defdate: moment(new Date()).add(-1, 'months').format(\"YYYY-MM-DD\")\n          },\n          {\n            type: \"v_datetime\",\n            title: \"上传结束日期\",\n            key: \"UpdateTimeEndDate\"\n          }\n        ]\n      },\n      buttonOptions: [\n        {\n          title: \"下载\",\n          enable: true,\n          method: function(e, item) {\n            console.log(\"下载被点击\");\n            debugger;\n            let seleCheckBoxs =\n              _.$children[0].$refs.table.tableObj.bootstrapTable(\n                \"getSelections\"\n              ) || [];\n            if (seleCheckBoxs.length) {\n              let FileIDStr = \"\";\n              seleCheckBoxs.map(item => {\n                FileIDStr += item.FileId + \",\";\n              });\n\n              FileManagerApi.GetUploadUrl({\n                fileUploadIdList: FileIDStr.substring(0, FileIDStr.length - 1)\n              }).then(res => {\n                console.log(res);\n                location.href = res.result.uploadUrl;\n              });\n            } else {\n              alert(\"没有选择项\");\n            }\n          }\n        }\n      ],\n      tableOption: {\n        tableId: \"fileupload\",\n        tableName: \"文件上传管理\",\n        url: config.pgyerApiUrl + FileManagerApi.GetFileUploadList.options.url,\n        method: FileManagerApi.GetFileUploadList.options.method,\n        uniqueId: TableUniqueId,\n        clickToSelect: true,\n        columns: [\n          {\n            align: \"center\",\n            checkbox: true, // 显示复选框\n            formatter: function(i, row) {}\n          },\n          {\n            field: \"fileName\",\n            title: \"文件名\",\n            align: \"center\"\n          },\n          {\n            field: \"placeId\",\n            title: \"上传点编号\",\n            align: \"center\"\n          },\n          {\n            field: \"equipmentNumber\",\n            title: \"枪号\",\n            align: \"center\",\n          },\n          {\n            field: \"fileSource\",\n            title: \"文件类型（生产、物流）\",\n            align: \"center\",\n            formatter: function(val, row) {\n              return FileSource[row.fileSource];\n            }\n          },\n          {\n            field: \"platform\",\n            title: \"文件来源（OEM、DTS）\",\n            align: \"center\",\n            formatter: function(val, row) {\n              return Platform[row.platform];\n            }\n          },\n          {\n            field: \"updateTime\",\n            title: \"上传日期\",\n            align: \"center\",\n            formatter: function(val, row) {\n              return moment(val).format(\"YYYY-MM-DD HH:mm\");\n            }\n          }\n        ]\n      }\n    };\n  },\n  methods: {\n    rowClick: function(rowItem, element, baseObject) {\n      console.log(element);\n      debugger;\n    }\n  },\n  components: { vBasePage }\n};\n</script>\n\n"],"sourceRoot":"src/views/FileManagerModule/Code"}]}