{"remainingRequest":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码0405/node_modules/babel-loader/lib/index.js!/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码0405/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码0405/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码0405/src/components/upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码0405/src/components/upload.vue","mtime":1553140248000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码0405/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码0405/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码0405/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码0405/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.assign\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      file_path: \"请选择文件上传\",\n      Ext: \"\",\n      FileName: \"\",\n      Base64String: \"\"\n    };\n  },\n  props: [\"apiUrl\", \"callback\", \"params\"],\n  methods: {\n    sbumit: function sbumit() {\n      var _this = this;\n\n      var _ = this;\n\n      if (_.Base64String && _.file_path != \"请选择文件上传\") {\n        var obj;\n\n        if (_.params) {\n          obj = Object.assign(_.params, {\n            //Ext: _.Ext,\n            Base64String: _.Base64String,\n            FileName: _.FileName\n          });\n        } else {\n          obj = {\n            //Ext: _.Ext,\n            FileBase64String: _.Base64String,\n            FileName: _.FileName\n          };\n        }\n\n        this.apiUrl(obj).then(function (res) {\n          _.file_path = \"请选择文件上传\";\n          _.$refs.file.value = \"\";\n\n          _this.$emit(\"callback\", res, _);\n        });\n      } else {\n        _.$emit(\"callback\", {\n          success: false,\n          error: {\n            message: \"请选择文件并上传\"\n          }\n        }, _);\n      }\n    },\n    select: function select() {\n      this.$refs.file.click();\n    },\n    filechange: function filechange() {\n      var _ = this;\n\n      var file = _.$refs.file;\n      _.file_path = file.value;\n      var file = file.files[0];\n\n      if (file != null) {\n        _.Ext = _.file_path.substring(_.file_path.lastIndexOf(\".\") + 1);\n        _.FileName = _.file_path.substring(_.file_path.lastIndexOf(\"\\\\\") + 1);\n\n        if (file.type != \"application/vnd.ms-excel\" && file.type != \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\") {\n          _.Ext = \"exe\";\n        }\n\n        if (file.size < 1) {\n          _.file_path = \"请选择文件上传\";\n          _.$refs.file.value = \"\";\n          return layer.alert(\"所选的文件为空！\");\n        } // if (file.size > 10485540) {\n        //   _.file_path=\"请选择文件上传\";\n        //    _.$refs.file.value = \"\";\n        //   return layer.alert(\"所选的文件超过10MB！\");\n        // }\n\n\n        var reader = new FileReader();\n        reader.readAsDataURL(file);\n\n        reader.onload = function () {\n          _.Base64String = reader.result;\n        };\n      }\n    }\n  }\n};",{"version":3,"sources":["upload.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <span>txt文件：</span>\r\n    <div class=\"input-group\" style=\"width:30%\" @click=\"select\">\r\n      <input\r\n        name=\"txt_filePath\"\r\n        type=\"text\"\r\n        v-model=\"file_path\"\r\n        readonly=\"readonly\"\r\n        class=\"form-control\"\r\n      >\r\n      <div class=\"input-group-addon\" style=\"width:60px\">\r\n        <a href=\"javascript:void(0);\" class=\"glyphicon glyphicon-upload\">浏览</a>\r\n      </div>\r\n      <input ref=\"file\" class=\"hide\" type=\"file\" accept=\".txt\" @change=\"filechange\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <button type=\"button\" class=\"btn btn-primary\" @click=\"sbumit\">导入</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      file_path: \"请选择文件上传\",\r\n      Ext: \"\",\r\n      FileName: \"\",\r\n      Base64String: \"\"\r\n    };\r\n  },\r\n  props: [\"apiUrl\", \"callback\", \"params\"],\r\n  methods: {\r\n    sbumit: function() {\r\n      var _ = this;\r\n      if (_.Base64String && _.file_path != \"请选择文件上传\") {\r\n        var obj;\r\n        if (_.params) {\r\n          obj = Object.assign(_.params, {\r\n            //Ext: _.Ext,\r\n            Base64String: _.Base64String,\r\n            FileName: _.FileName\r\n          });\r\n        } else {\r\n          obj = {\r\n            //Ext: _.Ext,\r\n            FileBase64String: _.Base64String,\r\n            FileName: _.FileName\r\n          };\r\n        }\r\n        this.apiUrl(obj).then(res => {\r\n          _.file_path = \"请选择文件上传\";\r\n          _.$refs.file.value = \"\";\r\n          this.$emit(\"callback\", res, _);\r\n        });\r\n      } else {\r\n        _.$emit(\r\n          \"callback\",\r\n          { success: false, error: { message: \"请选择文件并上传\" } },\r\n          _\r\n        );\r\n      }\r\n    },\r\n    select: function() {\r\n      this.$refs.file.click();\r\n    },\r\n    filechange: function() {\r\n      var _ = this;\r\n      var file = _.$refs.file;\r\n      _.file_path = file.value;\r\n      var file = file.files[0];\r\n      if (file != null) {\r\n        _.Ext = _.file_path.substring(_.file_path.lastIndexOf(\".\") + 1);\r\n        _.FileName = _.file_path.substring(_.file_path.lastIndexOf(\"\\\\\") + 1);\r\n        if (\r\n          file.type != \"application/vnd.ms-excel\" &&\r\n          file.type !=\r\n            \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\r\n        ) {\r\n          _.Ext = \"exe\";\r\n        }\r\n        if (file.size < 1) {\r\n          _.file_path=\"请选择文件上传\";\r\n          _.$refs.file.value = \"\";\r\n          return layer.alert(\"所选的文件为空！\");\r\n        }\r\n\r\n        // if (file.size > 10485540) {\r\n        //   _.file_path=\"请选择文件上传\";\r\n        //    _.$refs.file.value = \"\";\r\n        //   return layer.alert(\"所选的文件超过10MB！\");\r\n        // }\r\n\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = function() {\r\n          _.Base64String = reader.result;\r\n        };\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components"}]}