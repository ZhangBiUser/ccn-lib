{"remainingRequest":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/src/components/upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/src/components/upload.vue","mtime":1553140248000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      file_path: \"请选择文件上传\",\r\n      Ext: \"\",\r\n      FileName: \"\",\r\n      Base64String: \"\"\r\n    };\r\n  },\r\n  props: [\"apiUrl\", \"callback\", \"params\"],\r\n  methods: {\r\n    sbumit: function() {\r\n      var _ = this;\r\n      if (_.Base64String && _.file_path != \"请选择文件上传\") {\r\n        var obj;\r\n        if (_.params) {\r\n          obj = Object.assign(_.params, {\r\n            //Ext: _.Ext,\r\n            Base64String: _.Base64String,\r\n            FileName: _.FileName\r\n          });\r\n        } else {\r\n          obj = {\r\n            //Ext: _.Ext,\r\n            FileBase64String: _.Base64String,\r\n            FileName: _.FileName\r\n          };\r\n        }\r\n        this.apiUrl(obj).then(res => {\r\n          _.file_path = \"请选择文件上传\";\r\n          _.$refs.file.value = \"\";\r\n          this.$emit(\"callback\", res, _);\r\n        });\r\n      } else {\r\n        _.$emit(\r\n          \"callback\",\r\n          { success: false, error: { message: \"请选择文件并上传\" } },\r\n          _\r\n        );\r\n      }\r\n    },\r\n    select: function() {\r\n      this.$refs.file.click();\r\n    },\r\n    filechange: function() {\r\n      var _ = this;\r\n      var file = _.$refs.file;\r\n      _.file_path = file.value;\r\n      var file = file.files[0];\r\n      if (file != null) {\r\n        _.Ext = _.file_path.substring(_.file_path.lastIndexOf(\".\") + 1);\r\n        _.FileName = _.file_path.substring(_.file_path.lastIndexOf(\"\\\\\") + 1);\r\n        if (\r\n          file.type != \"application/vnd.ms-excel\" &&\r\n          file.type !=\r\n            \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\r\n        ) {\r\n          _.Ext = \"exe\";\r\n        }\r\n        if (file.size < 1) {\r\n          _.file_path=\"请选择文件上传\";\r\n          _.$refs.file.value = \"\";\r\n          return layer.alert(\"所选的文件为空！\");\r\n        }\r\n\r\n        // if (file.size > 10485540) {\r\n        //   _.file_path=\"请选择文件上传\";\r\n        //    _.$refs.file.value = \"\";\r\n        //   return layer.alert(\"所选的文件超过10MB！\");\r\n        // }\r\n\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = function() {\r\n          _.Base64String = reader.result;\r\n        };\r\n      }\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["upload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"upload.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <span>txt文件：</span>\r\n    <div class=\"input-group\" style=\"width:30%\" @click=\"select\">\r\n      <input\r\n        name=\"txt_filePath\"\r\n        type=\"text\"\r\n        v-model=\"file_path\"\r\n        readonly=\"readonly\"\r\n        class=\"form-control\"\r\n      >\r\n      <div class=\"input-group-addon\" style=\"width:60px\">\r\n        <a href=\"javascript:void(0);\" class=\"glyphicon glyphicon-upload\">浏览</a>\r\n      </div>\r\n      <input ref=\"file\" class=\"hide\" type=\"file\" accept=\".txt\" @change=\"filechange\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <button type=\"button\" class=\"btn btn-primary\" @click=\"sbumit\">导入</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      file_path: \"请选择文件上传\",\r\n      Ext: \"\",\r\n      FileName: \"\",\r\n      Base64String: \"\"\r\n    };\r\n  },\r\n  props: [\"apiUrl\", \"callback\", \"params\"],\r\n  methods: {\r\n    sbumit: function() {\r\n      var _ = this;\r\n      if (_.Base64String && _.file_path != \"请选择文件上传\") {\r\n        var obj;\r\n        if (_.params) {\r\n          obj = Object.assign(_.params, {\r\n            //Ext: _.Ext,\r\n            Base64String: _.Base64String,\r\n            FileName: _.FileName\r\n          });\r\n        } else {\r\n          obj = {\r\n            //Ext: _.Ext,\r\n            FileBase64String: _.Base64String,\r\n            FileName: _.FileName\r\n          };\r\n        }\r\n        this.apiUrl(obj).then(res => {\r\n          _.file_path = \"请选择文件上传\";\r\n          _.$refs.file.value = \"\";\r\n          this.$emit(\"callback\", res, _);\r\n        });\r\n      } else {\r\n        _.$emit(\r\n          \"callback\",\r\n          { success: false, error: { message: \"请选择文件并上传\" } },\r\n          _\r\n        );\r\n      }\r\n    },\r\n    select: function() {\r\n      this.$refs.file.click();\r\n    },\r\n    filechange: function() {\r\n      var _ = this;\r\n      var file = _.$refs.file;\r\n      _.file_path = file.value;\r\n      var file = file.files[0];\r\n      if (file != null) {\r\n        _.Ext = _.file_path.substring(_.file_path.lastIndexOf(\".\") + 1);\r\n        _.FileName = _.file_path.substring(_.file_path.lastIndexOf(\"\\\\\") + 1);\r\n        if (\r\n          file.type != \"application/vnd.ms-excel\" &&\r\n          file.type !=\r\n            \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\r\n        ) {\r\n          _.Ext = \"exe\";\r\n        }\r\n        if (file.size < 1) {\r\n          _.file_path=\"请选择文件上传\";\r\n          _.$refs.file.value = \"\";\r\n          return layer.alert(\"所选的文件为空！\");\r\n        }\r\n\r\n        // if (file.size > 10485540) {\r\n        //   _.file_path=\"请选择文件上传\";\r\n        //    _.$refs.file.value = \"\";\r\n        //   return layer.alert(\"所选的文件超过10MB！\");\r\n        // }\r\n\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = function() {\r\n          _.Base64String = reader.result;\r\n        };\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}