{"remainingRequest":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/src/views/ReportModule/ReportManagerment/testdropdown.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/src/views/ReportModule/ReportManagerment/testdropdown.vue","mtime":1553768967808},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport vTable from \"@c/tables/table\";\nimport vSearch from \"@c/dynamicSearch/dynamic_Search\";\nimport AreaApi from \"../../DictModule/webapi/AreaApi\";\nimport DataApi from \"../../DictModule/webapi/DataApi\";\nimport MatlApi from \"../../MatlModule/webapi/MaterialsApi\";\nimport ReportApi from \"../webapi/ReportApi\";\nimport moment from \"moment\";\nimport config from \"@/config/index\";\nimport { pageTool } from \"@/js/util.js\";\nimport v_cus from '@c/dynamicSearch/'\nexport default {\n  data() {\n    var _ = this;\n    return {\n      formData: {\n        No: \"\", //编号\n        Name: \"\", //名称\n        Code: \"\", //编码\n        MnenonicCode: \"\" //助记码\n      },\n      search_controls: [\n        {\n          type: \"v_text\",\n          title: \"发货单号1\",\n          key: \"receiptno\"\n        },\n        {\n          type: \"v_singleSelect\",\n          title: \"选择自定义\",\n          key: \"materialsid\",\n          apiUrl: ReportApi.Custom,\n          //params: { aaa: \"fff\" },\n          selectkey: \"id\",\n          selectvalue: \"name\"\n        },\n        {\n          type: \"v_text\",\n          title: \"批次号\",\n          key: \"batchno\"\n        },\n        {\n          type: \"v_datetime\",\n          title: \"发货开始日期\",\n          key: \"sendstartdate\",\n          //defdate: moment(new Date()).add(-1, 'months').format(\"YYYY-MM-DD\")\n        },\n        {\n          type: \"v_datetime\",\n          title: \"发货结束日期\",\n          key: \"sendenddate\"\n        },\n        {\n          type: \"br\",\n          key: \"bra\"\n        },\n        {\n          type: \"v_doubleSelect\",\n          key: \"sendprovincecity\",\n          list: [\n            {\n              type: \"v_singleSelect\",\n              title: \"发货省份\",\n              key: \"sendprovince\",\n              apiUrl: AreaApi.GetAllProvinceList,\n              selectkey: \"provinceid\",\n              selectvalue: \"provincename\",\n              childrenkey: \"sendcity\"\n            },\n            {\n              type: \"v_singleSelect\",\n              title: \"发货城市\",\n              key: \"sendcity\",\n              apiUrl: AreaApi.GetCityOfProvinceList,\n              parendPostKey: \"AreaId\",\n              selectkey: \"cityid\",\n              selectvalue: \"cityname\"\n            }\n          ]\n        },\n        {\n          type: \"v_doubleSelect\",\n          key: \"sendlevelunit\",\n          list: [\n            {\n              type: \"v_singleSelect\",\n              title: \"发货层级\",\n              key: \"sendlevel\",\n              apiUrl: DataApi.GetSendUnitLevelList,\n              selectkey: \"dataid\",\n              selectvalue: \"dataname\",\n              childrenkey: \"sendunit\"\n            },\n            {\n              type: \"v_singleSelect\",\n              title: \"发货单位\",\n              key: \"sendunit\",\n              apiUrl: DataApi.GetSendOutWareHoustList,\n              parendPostKey: \"CatagoryId\",\n              selectkey: \"id\",\n              selectvalue: \"name\"\n            }\n          ]\n        },\n        {\n          type: \"br\",\n          key: \"brb\"\n        },\n        {\n          type: \"v_doubleSelect\",\n          key: \"receivprovincecity\",\n          list: [\n            {\n              type: \"v_singleSelect\",\n              title: \"收货省份\",\n              key: \"receivprovince\",\n              apiUrl: AreaApi.GetAllProvinceList,\n              selectkey: \"provinceid\",\n              selectvalue: \"provincename\",\n              childrenkey: \"receivcity\"\n            },\n            {\n              type: \"v_singleSelect\",\n              title: \"收货城市\",\n              key: \"receivcity\",\n              apiUrl: AreaApi.GetCityOfProvinceList,\n              parendPostKey: \"AreaId\",\n              selectkey: \"cityid\",\n              selectvalue: \"cityname\"\n            }\n          ]\n        },\n        {\n          type: \"v_doubleSelect\",\n          key: \"receivlevelunit\",\n          list: [\n            {\n              type: \"v_singleSelect\",\n              title: \"收货层级\",\n              key: \"receivlevel\",\n              apiUrl: DataApi.GetReceivUnitLevelList,\n              selectkey: \"dataid\",\n              selectvalue: \"dataname\",\n              childrenkey: \"receivunit\"\n            },\n            {\n              type: \"v_singleSelect\",\n              title: \"收货单位\",\n              key: \"receivunit\",\n              apiUrl: DataApi.GetReceivOutWareHoustList,\n              parendPostKey: \"CatagoryId\",\n              selectkey: \"id\",\n              selectvalue: \"name\"\n            }\n          ]\n        }\n      ],\n\n      searchOptions: {\n        requiredCondition: true\n      },\n      tableOption: {\n        tableId: \"sendreport\",\n        tableName: \"发货统计报表\",\n        //url: config.pgyerApiUrl + ReportApi.OutWareHoustReportPage.options.url,\n        method: ReportApi.OutWareHoustReportPage.options.method,\n        columns: [\n          { field: \"receipT_NO\", title: \"发货单号\", align: \"center\" },\n          { field: \"materialS_SN\", title: \"产品编码\", align: \"center\" },\n          {\n            field: \"materialS_NAME\",\n            title: \"产品名称\",\n            align: \"left\",\n            width:\"200px\",\n            formatter: pageTool.formartSubStr\n          },\n          { field: \"batchNo\", title: \"批次号\", align: \"center\" },\n          { field: \"sendProvince\", title: \"发货省\", align: \"center\" },\n          { field: \"sendCity\", title: \"发货城市\", align: \"center\" },\n          { field: \"receipT_SENDER\", title: \"发货单位\", align: \"center\" },\n          { field: \"receivProvince\", title: \"收货省\", align: \"center\" },\n          { field: \"receivCity\", title: \"收货城市\", align: \"center\" },\n          { field: \"receipT_RECEIVER\", title: \"收货单位\", align: \"center\" },\n          { field: \"numbeR_OF_PLAN\", title: \"计划数量\", align: \"center\" },\n          { field: \"actuaL_NUMBER\", title: \"实扫数量\", align: \"center\" },\n          {\n            field: \"receipT_DATE\",\n            title: \"发货日期\",\n            align: \"center\",\n            formatter: function(val, row) {\n              return moment(val).format(\"YYYY-MM-DD HH:mm:ss\");\n            }\n          }\n        ]\n      }\n    };\n  },\n  computed: {\n    exportOptions: function() {\n      return {\n        id: this.tableOption.tableId,\n        name: this.tableOption.tableName,\n        url: ReportApi.OutWareHoustReportExport\n      };\n    }\n  },\n  mounted: function() {\n    // api.ppp({}).then(res => {\n    //   console.log(res);\n    // });\n    var _ = this;\n    \n    _.$refs.table.tableObj.on(\"click\", \"a\", function() {\n      //_.editModel();\n    });\n  },\n  methods: {\n    search: function(params) {\n      //debugger;\n      //this.initValidate();\n      this.$refs.table.tableOption.url =\n        config.pgyerApiUrl + ReportApi.OutWareHoustReportPage.options.url;\n      this.$refs.table.tableOption.params = params;\n      this.$refs.table.operation(\"refresh\");\n    }\n  },\n  components: { vTable, vSearch }\n};\n",{"version":3,"sources":["testdropdown.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"testdropdown.vue","sourceRoot":"src/views/ReportModule/ReportManagerment","sourcesContent":["<template>\n  <div>\n    <div class=\"box box-default\">\n      <div class=\"box-body box-body-resizer\">\n        <form class=\"form-inline\" id=\"search-query\">\n          <div class=\"search-bar\" style=\"float:left;width:99%;position: relative;\">\n            <vSearch\n              v-bind:dynamicControls=\"search_controls\"\n              v-bind:exportOptions=\"exportOptions\"\n              v-bind:searchOptions=\"searchOptions\"\n              @callback=\"search\"\n              style=\"float:left\"\n            ></vSearch>\n          </div>\n        </form>\n        <vTable ref=\"table\" :option=\"tableOption\"></vTable>\n\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport vTable from \"@c/tables/table\";\nimport vSearch from \"@c/dynamicSearch/dynamic_Search\";\nimport AreaApi from \"../../DictModule/webapi/AreaApi\";\nimport DataApi from \"../../DictModule/webapi/DataApi\";\nimport MatlApi from \"../../MatlModule/webapi/MaterialsApi\";\nimport ReportApi from \"../webapi/ReportApi\";\nimport moment from \"moment\";\nimport config from \"@/config/index\";\nimport { pageTool } from \"@/js/util.js\";\nimport v_cus from '@c/dynamicSearch/'\nexport default {\n  data() {\n    var _ = this;\n    return {\n      formData: {\n        No: \"\", //编号\n        Name: \"\", //名称\n        Code: \"\", //编码\n        MnenonicCode: \"\" //助记码\n      },\n      search_controls: [\n        {\n          type: \"v_text\",\n          title: \"发货单号1\",\n          key: \"receiptno\"\n        },\n        {\n          type: \"v_singleSelect\",\n          title: \"选择自定义\",\n          key: \"materialsid\",\n          apiUrl: ReportApi.Custom,\n          //params: { aaa: \"fff\" },\n          selectkey: \"id\",\n          selectvalue: \"name\"\n        },\n        {\n          type: \"v_text\",\n          title: \"批次号\",\n          key: \"batchno\"\n        },\n        {\n          type: \"v_datetime\",\n          title: \"发货开始日期\",\n          key: \"sendstartdate\",\n          //defdate: moment(new Date()).add(-1, 'months').format(\"YYYY-MM-DD\")\n        },\n        {\n          type: \"v_datetime\",\n          title: \"发货结束日期\",\n          key: \"sendenddate\"\n        },\n        {\n          type: \"br\",\n          key: \"bra\"\n        },\n        {\n          type: \"v_doubleSelect\",\n          key: \"sendprovincecity\",\n          list: [\n            {\n              type: \"v_singleSelect\",\n              title: \"发货省份\",\n              key: \"sendprovince\",\n              apiUrl: AreaApi.GetAllProvinceList,\n              selectkey: \"provinceid\",\n              selectvalue: \"provincename\",\n              childrenkey: \"sendcity\"\n            },\n            {\n              type: \"v_singleSelect\",\n              title: \"发货城市\",\n              key: \"sendcity\",\n              apiUrl: AreaApi.GetCityOfProvinceList,\n              parendPostKey: \"AreaId\",\n              selectkey: \"cityid\",\n              selectvalue: \"cityname\"\n            }\n          ]\n        },\n        {\n          type: \"v_doubleSelect\",\n          key: \"sendlevelunit\",\n          list: [\n            {\n              type: \"v_singleSelect\",\n              title: \"发货层级\",\n              key: \"sendlevel\",\n              apiUrl: DataApi.GetSendUnitLevelList,\n              selectkey: \"dataid\",\n              selectvalue: \"dataname\",\n              childrenkey: \"sendunit\"\n            },\n            {\n              type: \"v_singleSelect\",\n              title: \"发货单位\",\n              key: \"sendunit\",\n              apiUrl: DataApi.GetSendOutWareHoustList,\n              parendPostKey: \"CatagoryId\",\n              selectkey: \"id\",\n              selectvalue: \"name\"\n            }\n          ]\n        },\n        {\n          type: \"br\",\n          key: \"brb\"\n        },\n        {\n          type: \"v_doubleSelect\",\n          key: \"receivprovincecity\",\n          list: [\n            {\n              type: \"v_singleSelect\",\n              title: \"收货省份\",\n              key: \"receivprovince\",\n              apiUrl: AreaApi.GetAllProvinceList,\n              selectkey: \"provinceid\",\n              selectvalue: \"provincename\",\n              childrenkey: \"receivcity\"\n            },\n            {\n              type: \"v_singleSelect\",\n              title: \"收货城市\",\n              key: \"receivcity\",\n              apiUrl: AreaApi.GetCityOfProvinceList,\n              parendPostKey: \"AreaId\",\n              selectkey: \"cityid\",\n              selectvalue: \"cityname\"\n            }\n          ]\n        },\n        {\n          type: \"v_doubleSelect\",\n          key: \"receivlevelunit\",\n          list: [\n            {\n              type: \"v_singleSelect\",\n              title: \"收货层级\",\n              key: \"receivlevel\",\n              apiUrl: DataApi.GetReceivUnitLevelList,\n              selectkey: \"dataid\",\n              selectvalue: \"dataname\",\n              childrenkey: \"receivunit\"\n            },\n            {\n              type: \"v_singleSelect\",\n              title: \"收货单位\",\n              key: \"receivunit\",\n              apiUrl: DataApi.GetReceivOutWareHoustList,\n              parendPostKey: \"CatagoryId\",\n              selectkey: \"id\",\n              selectvalue: \"name\"\n            }\n          ]\n        }\n      ],\n\n      searchOptions: {\n        requiredCondition: true\n      },\n      tableOption: {\n        tableId: \"sendreport\",\n        tableName: \"发货统计报表\",\n        //url: config.pgyerApiUrl + ReportApi.OutWareHoustReportPage.options.url,\n        method: ReportApi.OutWareHoustReportPage.options.method,\n        columns: [\n          { field: \"receipT_NO\", title: \"发货单号\", align: \"center\" },\n          { field: \"materialS_SN\", title: \"产品编码\", align: \"center\" },\n          {\n            field: \"materialS_NAME\",\n            title: \"产品名称\",\n            align: \"left\",\n            width:\"200px\",\n            formatter: pageTool.formartSubStr\n          },\n          { field: \"batchNo\", title: \"批次号\", align: \"center\" },\n          { field: \"sendProvince\", title: \"发货省\", align: \"center\" },\n          { field: \"sendCity\", title: \"发货城市\", align: \"center\" },\n          { field: \"receipT_SENDER\", title: \"发货单位\", align: \"center\" },\n          { field: \"receivProvince\", title: \"收货省\", align: \"center\" },\n          { field: \"receivCity\", title: \"收货城市\", align: \"center\" },\n          { field: \"receipT_RECEIVER\", title: \"收货单位\", align: \"center\" },\n          { field: \"numbeR_OF_PLAN\", title: \"计划数量\", align: \"center\" },\n          { field: \"actuaL_NUMBER\", title: \"实扫数量\", align: \"center\" },\n          {\n            field: \"receipT_DATE\",\n            title: \"发货日期\",\n            align: \"center\",\n            formatter: function(val, row) {\n              return moment(val).format(\"YYYY-MM-DD HH:mm:ss\");\n            }\n          }\n        ]\n      }\n    };\n  },\n  computed: {\n    exportOptions: function() {\n      return {\n        id: this.tableOption.tableId,\n        name: this.tableOption.tableName,\n        url: ReportApi.OutWareHoustReportExport\n      };\n    }\n  },\n  mounted: function() {\n    // api.ppp({}).then(res => {\n    //   console.log(res);\n    // });\n    var _ = this;\n    \n    _.$refs.table.tableObj.on(\"click\", \"a\", function() {\n      //_.editModel();\n    });\n  },\n  methods: {\n    search: function(params) {\n      //debugger;\n      //this.initValidate();\n      this.$refs.table.tableOption.url =\n        config.pgyerApiUrl + ReportApi.OutWareHoustReportPage.options.url;\n      this.$refs.table.tableOption.params = params;\n      this.$refs.table.operation(\"refresh\");\n    }\n  },\n  components: { vTable, vSearch }\n};\n</script>\n"]}]}