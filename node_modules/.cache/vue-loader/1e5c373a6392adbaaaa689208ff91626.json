{"remainingRequest":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/src/components/edit_table.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/src/components/edit_table.vue","mtime":1553611585590},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.edit {\n  padding-top: 30px;\n  padding-bottom: 30px;\n}\n.v_mark {\n  line-height: 40px;\n  min-width: 150px;\n  text-align: right;\n  padding-right: 20px;\n}\n.v_mark>span {\n  color: red;\n}\n.v_saveView {\n  position: relative;\n  margin-top: 50px;\n  // bottom: 30px;\n  width: 100%;\n  height: 50px;\n  text-align: center;\n}\n.v_saveBtn {\n  left: 0;\n  right: 0;\n  width: 80px;\n  height: 40px;\n  margin: auto;\n}\n.has_value.form-control {\n  border-color: #3c763d ;\n}\n.has_value.form-control {\n  border-color: #000 ;\n} \n.no_value.form-control {\n  border-color: #a94442 ;\n}\n",{"version":3,"sources":["edit_table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"edit_table.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"edit container-fluid\">\n    <template v-for=\"(item, index) in dynamicEdits\">\n      <div\n        class=\"form-group\"\n        v-if=\"item.lineType == 'single'\"\n        style=\"width: 100%;margin-bottom: 10px\"\n        :key=\"item.key\"\n      >\n        <label class=\"v_mark control-label\">\n          <span>{{item.isRequest ? '*' : ''}}</span>\n          {{item.type == 'v_doubleSelect'?item.list[0].title+':':item.title + ':'}}\n        </label>\n        <component :class=\"clickSave ? (!item.hasVal && item.isRequest ? 'noValue' : 'hasValue') : '' \"\n          v-bind:is=\"item.type\"\n          ref=\"child\"\n          v-bind:options=\"item\"\n          style=\"width: 50%;display: inline;\"\n        ></component>\n      </div>\n\n      <div\n        class=\"form-group\"\n        v-else\n        style=\"width: 50%;margin-bottom: 10px;\"\n        :key=\"rowItem.key+index\"\n        v-for=\"rowItem in item.rowList\"\n      >\n        <label class=\"v_mark control-label\">\n          <span>{{rowItem.isRequest ? '*' : ''}}</span>\n          {{rowItem.type == 'v_doubleSelect'?rowItem.list[0].title+':':rowItem.title + ':'}}\n        </label>\n        <component :class=\"clickSave ? (!item.hasVal && item.isRequest ? 'noValue' : 'hasValue') : '' \"\n          v-bind:is=\"rowItem.type\"\n          ref=\"child\"\n          v-bind:options=\"rowItem\"\n          style=\"width: 50%;display: inline;\"\n        ></component>\n      </div>\n    </template>\n\n    <div class=\"v_saveView\">\n      <button class=\"btn btn-primary v_saveBtn\" @click=\"saveRecord\">保存</button>\n    </div>\n  </div>\n</template>\n\n<style>\n.edit {\n  padding-top: 30px;\n  padding-bottom: 30px;\n}\n.v_mark {\n  line-height: 40px;\n  min-width: 150px;\n  text-align: right;\n  padding-right: 20px;\n}\n.v_mark>span {\n  color: red;\n}\n.v_saveView {\n  position: relative;\n  margin-top: 50px;\n  // bottom: 30px;\n  width: 100%;\n  height: 50px;\n  text-align: center;\n}\n.v_saveBtn {\n  left: 0;\n  right: 0;\n  width: 80px;\n  height: 40px;\n  margin: auto;\n}\n.has_value.form-control {\n  border-color: #3c763d ;\n}\n.has_value.form-control {\n  border-color: #000 ;\n} \n.no_value.form-control {\n  border-color: #a94442 ;\n}\n</style>\n\n<script>\nimport v_text from \"@c/dynamicSearch/text/text\";\nimport v_datetime from \"@c/dynamicSearch/datetime/datetime\";\nimport v_singleSelect from \"@c/dynamicSearch/select/singleSelect\";\nimport v_doubleSelect from \"@c/dynamicSearch/select/doubleSelect\";\nimport { export_json_to_excel } from \"@/excel/Export2Excel.js\";\n\n\nimport ReportApi from \"@/views/ReportModule/webapi/ReportApi.js\";\n// import layui from 'layui-src';\n// import \"bootstrap-modal/dist/css/bootstrap-modal.min.css\";\n// import \"bootstrap-modal\";\n\nexport default {\n  data() {\n    return {\n      clickSave: false,//是否点击过保存按钮\n    };\n  },\n  props: [\"dynamicEdits\",\"seleTableObj\"],\n  mounted: function() {\n    console.log(this.seleTableObj);\n  },\n  computed: {\n    seleClassName: function(item) {\n      return \n    },\n  },\n  methods: {\n    init: function() {\n      \n    },\n    \n    saveRecord: function() {\n      let _ = this;\n      _.clickSave = true;\n\n      var result = {};\n      // 判断必填字段是否有值，无值则添加警告提示，修改边框颜色\n      this.$refs.child.forEach(item => {\n        if (item.options.type == \"v_doubleSelect\") {\n          for (var key in item.val) {\n            result[key] = item.val[key];\n            item.options.val = item.val[key]; \n          }\n        } else {\n          result[item.options.key] = item.val;\n          item.options.val = item.val;\n          \n        }\n        let str = item.options.val || '';\n        if (item.options.isRequest && !str.length) {\n          _.showTip(\"请输入信息！\");\n          return;\n        }\n        item.options.hasVal = str.length ? true : false;\n      });\n      console.log(this.dynamicEdits);\n        \n      console.log('保存的数据--- ');\n      console.log(result);\n      this.submitReq(result);\n      // _.showTip(\"数据保存成功\");\n      // this.$emit(\"editCallback\", result);\n    },\n    // 发送保存数据的请求\n    submitReq: function(result) {\n      ReportApi.AllocationDetailReportPage(result).then((res) => {\n        console.log(res);\n        if (res.success) layer.msg('数据保存成功');\n      })\n    },\n    showTip: function(content) {\n      \n          layer.open({\n            type: 0,\n            title: \"提示\",\n            content: content\n          });\n       \n    },\n    \n    formatJson(filterVal, jsonData) {\n      return jsonData.map(v => filterVal.map(j => v[j]));\n    }\n  },\n  components: { v_text, v_datetime, v_singleSelect, v_doubleSelect }\n};\n</script>\n\n"]}]}