{"remainingRequest":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/src/components/edit_table.vue?vue&type=style&index=0&lang=sass&scope=true&","dependencies":[{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/src/components/edit_table.vue","mtime":1553503953124},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hq_failmy/Desktop/TFS/客户项目/J/君乐宝/君乐宝乳业学生奶追溯项目/源代码/高定报表/前端代码/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n.form-control {\n    display: inline;\n}\n.box-body-resizer .search-bar input,\n.box-body-resizer .search-bar select {\n  width: 30% !important;\n}\n.bootstrap-select:not([class*=\"col-\"]):not([class*=\"form-control\"]):not(.input-group-btn) {\n  width: 30%;\n}\n",{"version":3,"sources":["edit_table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"edit_table.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"edit\">\n    <div class=\"form-group last-group\">\n      <template v-for=\"item in dynamicControls\">\n        <div class=\"form-group\" v-if=\"item.type!='br'\" :key=\"item.key\">\n            <label for=\"\" class=\"col-lg-2 col-md-2 col-sm-4 control-label\">{{item.title + ':'}}</label>\n          <component v-bind:is=\"item.type\" ref=\"child\" v-bind:options=\"item\"></component>\n        </div>\n        <!-- <br v-if=\"item.type=='br'\" :key=\"item.key\"> -->\n      </template>\n    </div>\n  </div>\n</template>\n<style lang='sass' scope>\n.form-control {\n    display: inline;\n}\n.box-body-resizer .search-bar input,\n.box-body-resizer .search-bar select {\n  width: 30% !important;\n}\n.bootstrap-select:not([class*=\"col-\"]):not([class*=\"form-control\"]):not(.input-group-btn) {\n  width: 30%;\n}\n</style>\n\n<script>\nimport v_text from \"@c/dynamicSearch/text/text\";\nimport v_datetime from \"@c/dynamicSearch/datetime/datetime\";\nimport v_singleSelect from \"@c/dynamicSearch/select/singleSelect\";\nimport v_doubleSelect from \"@c/dynamicSearch/select/doubleSelect\";\nimport { export_json_to_excel } from \"@/excel/Export2Excel.js\";\n// import layui from 'layui-src';\n// import \"bootstrap-modal/dist/css/bootstrap-modal.min.css\";\n// import \"bootstrap-modal\";\n\nexport default {\n  data() {\n    return {\n      isEdit: false\n    };\n  },\n  props: [\"dynamicControls\"],\n  mounted: function() {\n      console.log(this.dynamicControls);\n  },\n  methods: {\n    search: function() {\n      var result = {};\n      this.$refs.child.forEach(item => {\n        if (item.options.type == \"v_doubleSelect\") {\n          for (var key in item.val) {\n            result[key] = item.val[key];\n          }\n        } else {\n          result[item.options.key] = item.val;\n        }\n      });\n      if (this.searchOptions.requiredCondition) {\n        var valid = false;\n        for (const key in result) {\n          if (result[key] != undefined && result[key].trim()) {\n            valid = true;\n          }\n        }\n        if (!valid) {\n          layer.open({\n            type: 0,\n            title: \"提示\",\n            content: \"请输入查询条件！\"\n          });\n          return;\n        }\n      }\n      this.$emit(\"callback\", result);\n    },\n    export2Excel() {\n      var _ = this;\n      var result = {};\n      this.$refs.child.forEach(item => {\n        if (item.options.type == \"v_doubleSelect\") {\n          for (var key in item.val) {\n            result[key] = item.val[key];\n          }\n        } else {\n          result[item.options.key] = item.val;\n        }\n      });\n      _.exportOptions.url(result).then(res => {\n        if (res.success) {\n          require.ensure([], () => {\n            var table = $(\"#\" + _.exportOptions.id);\n            //debugger;\n            var dataList = res.result.items;\n            var AllColumns = table.bootstrapTable(\"getOptions\").columns[0];\n            const tHeader = [];\n            const Headers = [];\n            AllColumns.forEach(item => {\n              tHeader.push(item.title);\n              Headers.push(item.field);\n            });\n            const filterVal = tHeader;\n            const list = [];\n            const data = this.formatJson(Headers, dataList);\n            export_json_to_excel(tHeader, data, _.exportOptions.name);\n          });\n        }\n      });\n    },\n    formatJson(filterVal, jsonData) {\n      return jsonData.map(v => filterVal.map(j => v[j]));\n    }\n  },\n  components: { v_text, v_datetime, v_singleSelect, v_doubleSelect }\n};\n</script>\n\n"]}]}